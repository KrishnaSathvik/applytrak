<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="theme-color" content="#4A5E54"/>

    <meta name="google-site-verification" content="mG5l0Sl7OK_2zGiFK4vSlZMJ9UzhN_9RwDbAGovKdSo"/>

    <!-- Primary Meta Tags -->
    <title>ApplyTrak - Track Your Job Search Journey</title>
    <meta name="title" content="ApplyTrak - Track Your Job Search Journey"/>
    <meta name="description" content="ApplyTrak helps you track job applications with analytics, goals, and smart organization. Built with React, TypeScript, and modern design."/>
    <meta name="keywords" content="job tracker, job application tracker, career, job search, analytics, goals, react app, applytrak"/>
    <meta name="author" content="KrishnaSathvik"/>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://applytrak.com/"/>
    <meta property="og:title" content="ApplyTrak - Job Application Tracker"/>
    <meta property="og:description" content="Track your job search journey with style, analytics, and smart organization. Features include goal tracking, analytics dashboard, and modern UI."/>
    <meta property="og:image" content="https://applytrak.com/og-image.png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:site_name" content="ApplyTrak"/>

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:url" content="https://applytrak.com/"/>
    <meta property="twitter:title" content="ApplyTrak - Job Application Tracker"/>
    <meta property="twitter:description" content="Track your job search journey with style, analytics, and smart organization."/>
    <meta property="twitter:image" content="https://applytrak.com/twitter-image.png"/>
    <meta property="twitter:creator" content="@YourTwitterHandle"/>

    <!-- SEO Meta -->
    <meta name="robots" content="index, follow"/>
    <meta name="language" content="English"/>
    <meta name="revisit-after" content="7 days"/>
    <meta name="distribution" content="global"/>
    <meta name="rating" content="general"/>

    <!-- Canonical -->
    <link rel="canonical" href="https://applytrak.com/"/>

    <!-- Icons & Manifest -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png"/>
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json"/>

    <!-- Preconnect for Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>

    <!-- Structured Data -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "SoftwareApplication",
            "name": "ApplyTrak",
            "description": "Track your job search journey with analytics, goals, and smart organization",
            "url": "https://applytrak.com",
            "applicationCategory": "BusinessApplication",
            "operatingSystem": "Web Browser",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            },
            "creator": {
                "@type": "Person",
                "name": "KrishnaSathvik"
            },
            "datePublished": "2024",
            "screenshot": "https://applytrak.com/screenshot.png",
            "softwareVersion": "1.0.0",
            "featureList": [
                "Job Application Tracking",
                "Analytics Dashboard",
                "Goal Setting and Progress Tracking",
                "Export and Import Data",
                "Dark/Light Theme",
                "Offline Support"
            ]
        }
    </script>

    <!-- Security Meta -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff"/>
    <meta http-equiv="X-XSS-Protection" content="1; mode=block"/>
    <meta name="referrer" content="strict-origin-when-cross-origin"/>

    <!-- PWA Meta -->
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default"/>
    <meta name="apple-mobile-web-app-title" content="ApplyTrak"/>
    <meta name="msapplication-TileColor" content="#4A5E54"/>
    <meta name="msapplication-config" content="%PUBLIC_URL%/browserconfig.xml"/>
    <meta name="color-scheme" content="light dark"/>

    <!-- Theme Initialization -->
    <script>
        (() => {
            const root = document.documentElement;
            try {
                const saved = localStorage.getItem('theme'); // 'light' | 'dark' | null
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                const theme = saved || (prefersDark ? 'dark' : 'light');
                root.classList.toggle('dark', theme === 'dark');
                root.style.colorScheme = theme;
            } catch {
                root.classList.remove('dark');
                root.style.colorScheme = 'light';
            }
        })();
    </script>
</head>
<body>
<noscript>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h1>ApplyTrak</h1>
        <p>You need to enable JavaScript to run this app.</p>
        <p>ApplyTrak is a modern job application tracker that requires JavaScript to function properly.</p>
    </div>
</noscript>
<div id="root"></div>

<!-- Performance & Service Worker -->
<script>
    const isLocalhost = ['localhost', '127.0.0.1', '[::1]'].includes(location.hostname);
    const devLog = (...args) => { if (isLocalhost) console.log(...args); };

    // Performance Monitoring
    window.addEventListener('load', () => {
        try {
            const nav = performance.getEntriesByType('navigation')[0];
            let duration;
            if (nav) {
                duration = Math.round(nav.loadEventEnd - nav.startTime);
            } else if (performance.timing.loadEventEnd) {
                duration = performance.timing.loadEventEnd - performance.timing.navigationStart;
            } else {
                duration = Math.round(performance.now());
            }
            devLog('ApplyTrak loaded in:', duration > 0 ? duration : '<1', 'ms');
        } catch {
            devLog('ApplyTrak loaded');
        }
    });

    // Service Worker (only production HTTPS)
    (async () => {
        const isProd = location.protocol === 'https:' && !isLocalhost;
        if (isProd && 'serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const swUrl = '%PUBLIC_URL%/sw.js';
                    const head = await fetch(swUrl, { method: 'HEAD' });
                    const type = head.headers.get('content-type') || '';
                    if (head.ok && type.includes('javascript')) {
                        const reg = await navigator.serviceWorker.register(swUrl);
                        devLog('SW registered:', reg);
                    } else {
                        devLog('SW not found or wrong MIME type, skipping registration.');
                    }
                } catch (err) {
                    devLog('SW registration skipped:', err);
                }
            });
        }
    })();
</script>
</body>
</html>
