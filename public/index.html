<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="%PUBLIC_URL%/favicon.svg" />
    <link rel="icon" type="image/svg+xml" href="%PUBLIC_URL%/favicon.svg" sizes="any" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <meta name="theme-color" content="#3b82f6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="ApplyTrak" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
    <meta content="width=device-width, initial-scale=1" name="viewport"/>


    <meta content="mG5l0Sl7OK_2zGiFK4vSlZMJ9UzhN_9RwDbAGovKdSo" name="google-site-verification"/>

    <!-- Primary Meta Tags -->
    <title>ApplyTrak - Track Your Job Search Journey</title>
    <meta content="ApplyTrak - Track Your Job Search Journey" name="title"/>
    <meta content="ApplyTrak helps you track job applications with analytics, goals, and smart organization. Built with React, TypeScript, and modern design."
          name="description"/>
    <meta content="job tracker, job application tracker, career, job search, analytics, goals, react app, applytrak"
          name="keywords"/>
    <meta content="KrishnaSathvik" name="author"/>

    <!-- Open Graph / Facebook -->
    <meta content="website" property="og:type"/>
    <meta content="https://applytrak.com/" property="og:url"/>
    <meta content="ApplyTrak - Job Application Tracker" property="og:title"/>
    <meta content="Track your job search journey with style, analytics, and smart organization. Features include goal tracking, analytics dashboard, and modern UI."
          property="og:description"/>
    <meta content="https://applytrak.com/og-image.png" property="og:image"/>
    <meta content="1200" property="og:image:width"/>
    <meta content="630" property="og:image:height"/>
    <meta content="ApplyTrak" property="og:site_name"/>

    <!-- Twitter -->
    <meta content="summary_large_image" property="twitter:card"/>
    <meta content="https://applytrak.com/" property="twitter:url"/>
    <meta content="ApplyTrak - Job Application Tracker" property="twitter:title"/>
    <meta content="Track your job search journey with style, analytics, and smart organization."
          property="twitter:description"/>
    <meta content="https://applytrak.com/twitter-image.png" property="twitter:image"/>
    <meta content="@YourTwitterHandle" property="twitter:creator"/>

    <!-- SEO Meta -->
    <meta content="index, follow" name="robots"/>
    <meta content="English" name="language"/>
    <meta content="7 days" name="revisit-after"/>
    <meta content="global" name="distribution"/>
    <meta content="general" name="rating"/>

    <!-- Canonical -->
    <link href="https://applytrak.com/" rel="canonical"/>

    <!-- Icons & Manifest -->
    <link href="%PUBLIC_URL%/logo192.png" rel="apple-touch-icon"/>
    <link href="%PUBLIC_URL%/manifest.json" rel="manifest"/>

    <!-- Preconnect for Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect"/>
    
    <!-- Preload Critical Fonts -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"/></noscript>

    <!-- Structured Data -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "SoftwareApplication",
            "name": "ApplyTrak",
            "description": "Track your job search journey with analytics, goals, and smart organization",
            "url": "https://applytrak.com",
            "applicationCategory": "BusinessApplication",
            "operatingSystem": "Web Browser",
            "offers": {
                "@type": "Offer",
                "price": "0",
                "priceCurrency": "USD"
            },
            "creator": {
                "@type": "Person",
                "name": "KrishnaSathvik"
            },
            "datePublished": "2024",
            "screenshot": "https://applytrak.com/screenshot.png",
            "softwareVersion": "1.0.0",
            "featureList": [
                "Job Application Tracking",
                "Analytics Dashboard",
                "Goal Setting and Progress Tracking",
                "Export and Import Data",
                "Dark/Light Theme",
                "Offline Support"
            ]
        }
    </script>

    <!-- Security Meta -->
    <meta content="nosniff" http-equiv="X-Content-Type-Options"/>
    <meta content="1; mode=block" http-equiv="X-XSS-Protection"/>
    <meta content="strict-origin-when-cross-origin" name="referrer"/>

    <!-- PWA Meta -->
    <meta content="yes" name="mobile-web-app-capable"/>
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta content="default" name="apple-mobile-web-app-status-bar-style"/>
    <meta content="ApplyTrak" name="apple-mobile-web-app-title"/>
    <meta content="#4A5E54" name="msapplication-TileColor"/>
    <meta content="%PUBLIC_URL%/browserconfig.xml" name="msapplication-config"/>
    <meta content="light dark" name="color-scheme"/>

    <!-- Theme Initialization -->
    <script>
        (() => {
            const root = document.documentElement;
            try {
                const saved = localStorage.getItem('theme'); // 'light' | 'dark' | null
                // For shared/public access, default to light mode instead of system preference
                const theme = saved || 'light';
                root.classList.toggle('dark', theme === 'dark');
                root.style.colorScheme = theme;
            } catch {
                root.classList.remove('dark');
                root.style.colorScheme = 'light';
            }
        })();
    </script>

    <!-- Font Loading Detection -->
    <script>
        // Check if Inter font is loaded, fallback to system fonts if not
        (() => {
            if ('fonts' in document) {
                document.fonts.ready.then(() => {
                    // Check if Inter font is available
                    const interAvailable = document.fonts.check('1em Inter');
                    if (!interAvailable) {
                        console.warn('Inter font not available, using system fonts');
                        document.documentElement.style.setProperty('--font-family-primary', 
                            '-apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif');
                    } else {
                        console.log('Inter font loaded successfully');
                    }
                });
            }
        })();
    </script>
</head>
<body>
<noscript>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h1>ApplyTrak</h1>
        <p>You need to enable JavaScript to run this app.</p>
        <p>ApplyTrak is a modern job application tracker that requires JavaScript to function properly.</p>
    </div>
</noscript>
<div id="root"></div>

<!-- Performance & Service Worker -->
<script>
    const isLocalhost = ['localhost', '127.0.0.1', '[::1]'].includes(location.hostname);
    const devLog = (...args) => {
        if (isLocalhost) console.log(...args);
    };

    // Performance Monitoring
    window.addEventListener('load', () => {
        try {
            const nav = performance.getEntriesByType('navigation')[0];
            let duration;
            if (nav) {
                duration = Math.round(nav.loadEventEnd - nav.startTime);
            } else if (performance.timing.loadEventEnd) {
                duration = performance.timing.loadEventEnd - performance.timing.navigationStart;
            } else {
                duration = Math.round(performance.now());
            }
            devLog('ApplyTrak loaded in:', duration > 0 ? duration : '<1', 'ms');
        } catch {
            devLog('ApplyTrak loaded');
        }
    });

    // Service Worker (only production HTTPS)
    (async () => {
        const isProd = location.protocol === 'https:' && !isLocalhost;
        if (isProd && 'serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const swUrl = '%PUBLIC_URL%/sw.js';
                    const head = await fetch(swUrl, {method: 'HEAD'});
                    const type = head.headers.get('content-type') || '';
                    if (head.ok && type.includes('javascript')) {
                        const reg = await navigator.serviceWorker.register(swUrl);
                        devLog('SW registered:', reg);
                    } else {
                        devLog('SW not found or wrong MIME type, skipping registration.');
                    }
                } catch (err) {
                    devLog('SW registration skipped:', err);
                }
            });
        }
    })();
</script>
</body>
</html>
